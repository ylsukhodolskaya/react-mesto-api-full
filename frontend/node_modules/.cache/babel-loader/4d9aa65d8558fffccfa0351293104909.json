{"ast":null,"code":"import _slicedToArray from\"/Users/superlisa/dev/mesto-react/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import{useState,useEffect}from'react';import'../App.css';import Header from'./Header.js';import Footer from'./Footer.js';import Main from'./Main.js';import PopupWithForm from'./PopupWithForm.js';import ImagePopup from'./ImagePopup.js';// Импортируем объект контекста\nimport{CurrentUserContext,defaultUserInfo}from'../contexts/CurrentUserContext.js';import{api}from'../utils/Api.js';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";function App(){var _useState=useState(false),_useState2=_slicedToArray(_useState,2),isEditProfilePopupOpen=_useState2[0],setIsEditProfilePopupOpen=_useState2[1];var _useState3=useState(false),_useState4=_slicedToArray(_useState3,2),isAddPlacePopupOpen=_useState4[0],setIsAddPlacePopupOpen=_useState4[1];var _useState5=useState(false),_useState6=_slicedToArray(_useState5,2),isEditAvatarPopupOpen=_useState6[0],setIsEditAvatarPopupOpen=_useState6[1];var _useState7=useState(false),_useState8=_slicedToArray(_useState7,2),isPreviewCardPopupOpen=_useState8[0],setIsPreviewCardPopupOpen=_useState8[1];var _useState9=useState({}),_useState10=_slicedToArray(_useState9,2),selectedCard=_useState10[0],setSelectedCard=_useState10[1];// Переменная состояния пользователя\nvar _useState11=useState(defaultUserInfo),_useState12=_slicedToArray(_useState11,2),currentUser=_useState12[0],setCurrentUser=_useState12[1];//переменная состояния currentUser и эффект при монтировании, который будет вызывать api.getUserInfo и обновлять стейт-переменную из полученного значения\nuseEffect(function(){api.getUserInfo().then(function(data){setCurrentUser(data);}).catch(function(err){console.log(err);});},[]);var handleEditProfileClick=function handleEditProfileClick(){setIsEditProfilePopupOpen(true);};var handleAddPlaceClick=function handleAddPlaceClick(){setIsAddPlacePopupOpen(true);};var handleEditAvatarClick=function handleEditAvatarClick(){setIsEditAvatarPopupOpen(true);};var handleCardClick=function handleCardClick(card){setIsPreviewCardPopupOpen(true);setSelectedCard(card);};var closeAllPopups=function closeAllPopups(){setIsEditProfilePopupOpen(false);setIsAddPlacePopupOpen(false);setIsEditAvatarPopupOpen(false);setIsPreviewCardPopupOpen(false);setSelectedCard({});};return/*#__PURE__*/_jsx(_Fragment,{children:/*#__PURE__*/_jsxs(CurrentUserContext.Provider,{value:currentUser,children:[/*#__PURE__*/_jsx(Header,{}),/*#__PURE__*/_jsx(Main,{onEditProfile:handleEditProfileClick,onAddPlace:handleAddPlaceClick,onEditAvatar:handleEditAvatarClick,onCardClick:handleCardClick}),/*#__PURE__*/_jsx(Footer,{}),/*#__PURE__*/_jsxs(PopupWithForm,{name:\"profile\",title:\"\\u0420\\u0435\\u0434\\u0430\\u043A\\u0442\\u0438\\u0440\\u043E\\u0432\\u0430\\u0442\\u044C \\u043F\\u0440\\u043E\\u0444\\u0438\\u043B\\u044C\",textsubmit:\"\\u0421\\u043E\\u0445\\u0440\\u0430\\u043D\\u0438\\u0442\\u044C\",isOpen:isEditProfilePopupOpen,onClose:closeAllPopups,children:[/*#__PURE__*/_jsxs(\"label\",{className:\"popup__label\",children:[/*#__PURE__*/_jsx(\"input\",{type:\"text\",className:\"popup__input popup__input_type_name\",name:\"name\",id:\"input-name\",placeholder:\"\\u0418\\u043C\\u044F\",minLength:2,maxLength:40,required:\"\"}),/*#__PURE__*/_jsx(\"span\",{className:\"input-name-error\"})]}),/*#__PURE__*/_jsxs(\"label\",{className:\"popup__label\",children:[/*#__PURE__*/_jsx(\"input\",{type:\"text\",className:\"popup__input popup__input_type_description\",name:\"about\",id:\"input-about\",placeholder:\"\\u041E \\u0441\\u0435\\u0431\\u0435\",minLength:2,maxLength:200}),/*#__PURE__*/_jsx(\"span\",{className:\"input-about-error\"})]})]}),/*#__PURE__*/_jsxs(PopupWithForm,{name:\"place\",title:\"\\u041D\\u043E\\u0432\\u043E\\u0435 \\u043C\\u0435\\u0441\\u0442\\u043E\",textsubmit:\"\\u0421\\u043E\\u0445\\u0440\\u0430\\u043D\\u0438\\u0442\\u044C\",isOpen:isAddPlacePopupOpen,onClose:closeAllPopups,children:[/*#__PURE__*/_jsxs(\"label\",{className:\"popup__label\",children:[/*#__PURE__*/_jsx(\"input\",{type:\"text\",className:\"popup__input popup__input_type_title\",name:\"name\",placeholder:\"\\u041D\\u0430\\u0437\\u0432\\u0430\\u043D\\u0438\\u0435\",minLength:2,maxLength:30,id:\"input-place-name\",required:\"\"}),/*#__PURE__*/_jsx(\"span\",{className:\"input-place-name-error\"})]}),/*#__PURE__*/_jsxs(\"label\",{className:\"popup__label\",children:[/*#__PURE__*/_jsx(\"input\",{type:\"url\",className:\"popup__input popup__input_type_link\",name:\"link\",id:\"input-link\",placeholder:\"\\u0421\\u0441\\u044B\\u043B\\u043A\\u0430 \\u043D\\u0430 \\u043A\\u0430\\u0440\\u0442\\u0438\\u043D\\u043A\\u0443\",required:\"\"}),/*#__PURE__*/_jsx(\"span\",{className:\"input-link-error\"})]})]}),/*#__PURE__*/_jsx(PopupWithForm,{name:\"avatar\",title:\"\\u041E\\u0431\\u043D\\u043E\\u0432\\u0438\\u0442\\u044C \\u0430\\u0432\\u0430\\u0442\\u0430\\u0440\",textsubmit:\"\\u0421\\u043E\\u0445\\u0440\\u0430\\u043D\\u0438\\u0442\\u044C\",isOpen:isEditAvatarPopupOpen,onClose:closeAllPopups,children:/*#__PURE__*/_jsxs(\"label\",{className:\"popup__label\",children:[/*#__PURE__*/_jsx(\"input\",{type:\"url\",className:\"popup__input popup__input_type_link\",name:\"avatar\",id:\"input-avatar\",placeholder:\"\\u0421\\u0441\\u044B\\u043B\\u043A\\u0430 \\u043D\\u0430 \\u043A\\u0430\\u0440\\u0442\\u0438\\u043D\\u043A\\u0443\",required:\"\"}),/*#__PURE__*/_jsx(\"span\",{className:\"input-avatar-error\"})]})}),/*#__PURE__*/_jsx(ImagePopup,{card:selectedCard,isOpen:isPreviewCardPopupOpen,onClose:closeAllPopups})]})});}export default App;","map":{"version":3,"names":["useState","useEffect","Header","Footer","Main","PopupWithForm","ImagePopup","CurrentUserContext","defaultUserInfo","api","App","isEditProfilePopupOpen","setIsEditProfilePopupOpen","isAddPlacePopupOpen","setIsAddPlacePopupOpen","isEditAvatarPopupOpen","setIsEditAvatarPopupOpen","isPreviewCardPopupOpen","setIsPreviewCardPopupOpen","selectedCard","setSelectedCard","currentUser","setCurrentUser","getUserInfo","then","data","catch","err","console","log","handleEditProfileClick","handleAddPlaceClick","handleEditAvatarClick","handleCardClick","card","closeAllPopups"],"sources":["/Users/superlisa/dev/mesto-react/src/components/App.js"],"sourcesContent":["import { useState, useEffect } from 'react';\nimport '../App.css';\nimport Header from './Header.js';\nimport Footer from './Footer.js';\nimport Main from './Main.js';\nimport PopupWithForm from './PopupWithForm.js';\nimport ImagePopup from './ImagePopup.js';\n// Импортируем объект контекста\nimport { CurrentUserContext, defaultUserInfo } from '../contexts/CurrentUserContext.js';\nimport { api } from '../utils/Api.js';\n\n\nfunction App() {\n  const [isEditProfilePopupOpen, setIsEditProfilePopupOpen] = useState(false);\n  const [isAddPlacePopupOpen, setIsAddPlacePopupOpen] = useState(false);\n  const [isEditAvatarPopupOpen, setIsEditAvatarPopupOpen] = useState(false);\n  const [isPreviewCardPopupOpen, setIsPreviewCardPopupOpen] = useState(false);\n  const [selectedCard, setSelectedCard] = useState({});\n  // Переменная состояния пользователя\n  const [currentUser, setCurrentUser] = useState(defaultUserInfo);\n\n\n  //переменная состояния currentUser и эффект при монтировании, который будет вызывать api.getUserInfo и обновлять стейт-переменную из полученного значения\n  useEffect(() => {\n    api.getUserInfo()\n        .then((data) => {\n            setCurrentUser(data)\n\n        })\n        .catch((err) => { console.log(err) })\n}, []);\n\n  const handleEditProfileClick = () => {\n    setIsEditProfilePopupOpen(true);\n  }\n\n  const handleAddPlaceClick = () => {\n    setIsAddPlacePopupOpen(true);\n  }\n\n  const handleEditAvatarClick = () => {\n    setIsEditAvatarPopupOpen(true);\n  }\n\n  const handleCardClick = (card) => {\n    setIsPreviewCardPopupOpen(true);\n    setSelectedCard(card)\n  }\n\n  const closeAllPopups = () => {\n    setIsEditProfilePopupOpen(false);\n    setIsAddPlacePopupOpen(false);\n    setIsEditAvatarPopupOpen(false);\n    setIsPreviewCardPopupOpen(false);\n    setSelectedCard({});\n  };\n\n  return (\n    <>\n      <CurrentUserContext.Provider value={currentUser}>\n        <Header />\n        <Main\n          onEditProfile={handleEditProfileClick}\n          onAddPlace={handleAddPlaceClick}\n          onEditAvatar={handleEditAvatarClick}\n          onCardClick={handleCardClick}\n        />\n        <Footer />\n\n        <PopupWithForm\n          name=\"profile\"\n          title=\"Редактировать профиль\"\n          textsubmit=\"Сохранить\"\n          isOpen={isEditProfilePopupOpen}\n          onClose={closeAllPopups}\n        >\n          <label className=\"popup__label\">\n            <input\n              type=\"text\"\n              className=\"popup__input popup__input_type_name\"\n              name=\"name\"\n              id=\"input-name\"\n              placeholder=\"Имя\"\n              minLength={2}\n              maxLength={40}\n              required=\"\"\n            />\n            <span className=\"input-name-error\" />\n          </label>\n          <label className=\"popup__label\">\n            <input\n              type=\"text\"\n              className=\"popup__input popup__input_type_description\"\n              name=\"about\"\n              id=\"input-about\"\n              placeholder=\"О себе\"\n              minLength={2}\n              maxLength={200}\n            />\n            <span className=\"input-about-error\" />\n          </label>\n        </PopupWithForm>\n\n        <PopupWithForm\n          name=\"place\"\n          title=\"Новое место\"\n          textsubmit=\"Сохранить\"\n          isOpen={isAddPlacePopupOpen}\n          onClose={closeAllPopups}\n        >\n          <label className=\"popup__label\">\n            <input\n              type=\"text\"\n              className=\"popup__input popup__input_type_title\"\n              name=\"name\"\n              placeholder=\"Название\"\n              minLength={2}\n              maxLength={30}\n              id=\"input-place-name\"\n              required=\"\"\n            />\n            <span className=\"input-place-name-error\" />\n          </label>\n          <label className=\"popup__label\">\n            <input\n              type=\"url\"\n              className=\"popup__input popup__input_type_link\"\n              name=\"link\"\n              id=\"input-link\"\n              placeholder=\"Ссылка на картинку\"\n              required=\"\"\n            />\n            <span className=\"input-link-error\" />\n          </label>\n        </PopupWithForm>\n\n        <PopupWithForm\n          name=\"avatar\"\n          title=\"Обновить аватар\"\n          textsubmit=\"Сохранить\"\n          isOpen={isEditAvatarPopupOpen}\n          onClose={closeAllPopups}\n        >\n          <label className=\"popup__label\">\n            <input\n              type=\"url\"\n              className=\"popup__input popup__input_type_link\"\n              name=\"avatar\"\n              id=\"input-avatar\"\n              placeholder=\"Ссылка на картинку\"\n              required=\"\"\n            />\n            <span className=\"input-avatar-error\" />\n          </label>\n        </PopupWithForm>\n\n        <ImagePopup\n          card={selectedCard}\n          isOpen={isPreviewCardPopupOpen}\n          onClose={closeAllPopups}\n        />\n      </CurrentUserContext.Provider>\n    </>\n  );\n}\n\nexport default App;\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}