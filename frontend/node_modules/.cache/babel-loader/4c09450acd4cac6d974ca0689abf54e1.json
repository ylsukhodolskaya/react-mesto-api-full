{"ast":null,"code":"import _classCallCheck from\"/Users/superlisa/dev/mesto-react/node_modules/@babel/runtime/helpers/esm/classCallCheck.js\";import _createClass from\"/Users/superlisa/dev/mesto-react/node_modules/@babel/runtime/helpers/esm/createClass.js\";var Api=/*#__PURE__*/function(){function Api(config){_classCallCheck(this,Api);this._url=config.url;this._headers=config.headers;}_createClass(Api,[{key:\"_parseResponse\",value:function _parseResponse(res){if(res.ok){return res.json();}return Promise.reject(\"\\u041E\\u0448\\u0438\\u0431\\u043A\\u0430 Api _parseResponse: \".concat(res.status));}//===========================================\n// Получение информации о пользователе\n},{key:\"getUserInfo\",value:function getUserInfo(){var _this=this;return fetch(\"\".concat(this._url,\"/users/me\"),{headers:this._headers}).then(function(res){return _this._parseResponse(res);});}// Редактирование информации о пользователе\n},{key:\"editUserInfo\",value:function editUserInfo(data){var _this2=this;return fetch(\"\".concat(this._url,\"/users/me\"),{method:'PATCH',headers:this._headers,body:JSON.stringify({name:data.name,about:data.about})}).then(function(res){return _this2._parseResponse(res);});}//============================================\n// Редактирование аватара\n},{key:\"editAvatar\",value:function editAvatar(data){var _this3=this;return fetch(\"\".concat(this._url,\"/users/me/avatar\"),{method:'PATCH',headers:this._headers,body:JSON.stringify({avatar:data.avatar})}).then(function(res){return _this3._parseResponse(res);});}//=============================================\n// Получение карточек\n},{key:\"getInitialCards\",value:function getInitialCards(){var _this4=this;return fetch(\"\".concat(this._url,\"/cards\"),{headers:this._headers}).then(function(res){return _this4._parseResponse(res);});}// Добавление новой карточки через попап\n},{key:\"addCard\",value:function addCard(data){var _this5=this;return fetch(\"\".concat(this._url,\"/cards\"),{method:'POST',headers:this._headers,body:JSON.stringify({name:data.name,link:data.link})}).then(function(res){return _this5._parseResponse(res);});}//=============================================\n// Ставим лайк\n},{key:\"setLike\",value:function setLike(cardId){var _this6=this;return fetch(\"\".concat(this._url,\"/cards/likes/\").concat(cardId),{method:'PUT',headers:this._headers}).then(function(res){return _this6._parseResponse(res);});}// Удаляем лайк\n},{key:\"deleteLike\",value:function deleteLike(cardId){var _this7=this;return fetch(\"\".concat(this._url,\"/cards/likes/\").concat(cardId),{method:'DELETE',headers:this._headers}).then(function(res){return _this7._parseResponse(res);});}//===========================================\n// Удаление карточки\n},{key:\"deleteCard\",value:function deleteCard(cardId){var _this8=this;return fetch(\"\".concat(this._url,\"/cards/\").concat(cardId),{method:'DELETE',headers:this._headers}).then(function(res){return _this8._parseResponse(res);});}}]);return Api;}();export var api=new Api({url:\"https://mesto.nomoreparties.co/v1/cohort-48\",headers:{\"content-type\":\"application/json\",\"authorization\":\"b7525861-de9d-4d18-aacb-1e45dd5552b0\"}});","map":{"version":3,"names":["Api","config","_url","url","_headers","headers","res","ok","json","Promise","reject","status","fetch","then","_parseResponse","data","method","body","JSON","stringify","name","about","avatar","link","cardId","api"],"sources":["/Users/superlisa/dev/mesto-react/src/utils/Api.js"],"sourcesContent":["class Api {\n  constructor(config) {\n    this._url = config.url;\n    this._headers = config.headers;\n  }\n\n  _parseResponse(res) {\n    if (res.ok) {\n      return res.json();\n    }\n    return Promise.reject(`Ошибка Api _parseResponse: ${res.status}`)\n  }\n\n\n  //===========================================\n\n  // Получение информации о пользователе\n  getUserInfo() {\n    return fetch(`${this._url}/users/me`, {\n      headers: this._headers\n    }).then(res => this._parseResponse(res));\n  }\n  // Редактирование информации о пользователе\n  editUserInfo(data) {\n    return fetch(`${this._url}/users/me`, {\n      method: 'PATCH',\n      headers: this._headers,\n      body: JSON.stringify({\n        name: data.name,\n        about: data.about\n      })\n    }).then(res => this._parseResponse(res));\n  }\n\n  //============================================\n\n  // Редактирование аватара\n  editAvatar(data) {\n    return fetch(`${this._url}/users/me/avatar`, {\n      method: 'PATCH',\n      headers: this._headers,\n      body: JSON.stringify({\n        avatar: data.avatar\n      })\n    }).then(res => this._parseResponse(res));\n  }\n\n  //=============================================\n\n\n  // Получение карточек\n  getInitialCards() {\n    return fetch(`${this._url}/cards`, {\n      headers: this._headers\n    }).then(res => this._parseResponse(res));\n  }\n  // Добавление новой карточки через попап\n  addCard(data) {\n    return fetch(`${this._url}/cards`, {\n      method: 'POST',\n      headers: this._headers,\n      body: JSON.stringify({\n        name: data.name,\n        link: data.link\n      })\n    }).then(res => this._parseResponse(res));\n  }\n\n\n\n\n  //=============================================\n  // Ставим лайк\n  setLike(cardId) {\n    return fetch(`${this._url}/cards/likes/${cardId}`, {\n      method: 'PUT',\n      headers: this._headers\n    }).then(res => this._parseResponse(res));\n  }\n\n  // Удаляем лайк\n  deleteLike(cardId) {\n    return fetch(`${this._url}/cards/likes/${cardId}`, {\n      method: 'DELETE',\n      headers: this._headers\n    }).then(res => this._parseResponse(res));\n  }\n\n  //===========================================\n\n  // Удаление карточки\n  deleteCard(cardId) {\n    return fetch(`${this._url}/cards/${cardId}`, {\n      method: 'DELETE',\n      headers: this._headers\n    }).then(res => this._parseResponse(res));\n  }\n\n}\n\n\nexport const api = new Api({\n  url: \"https://mesto.nomoreparties.co/v1/cohort-48\",\n  headers: {\n    \"content-type\": \"application/json\",\n    \"authorization\": \"b7525861-de9d-4d18-aacb-1e45dd5552b0\",\n  }\n});"],"mappings":"6OAAMA,I,yBACJ,aAAYC,MAAZ,CAAoB,2BAClB,KAAKC,IAAL,CAAYD,MAAM,CAACE,GAAnB,CACA,KAAKC,QAAL,CAAgBH,MAAM,CAACI,OAAvB,CACD,C,8CAED,wBAAeC,GAAf,CAAoB,CAClB,GAAIA,GAAG,CAACC,EAAR,CAAY,CACV,MAAOD,IAAG,CAACE,IAAJ,EAAP,CACD,CACD,MAAOC,QAAO,CAACC,MAAR,oEAA6CJ,GAAG,CAACK,MAAjD,EAAP,CACD,CAGD;AAEA;2BACA,sBAAc,gBACZ,MAAOC,MAAK,WAAI,KAAKV,IAAT,cAA0B,CACpCG,OAAO,CAAE,KAAKD,QADsB,CAA1B,CAAL,CAEJS,IAFI,CAEC,SAAAP,GAAG,QAAI,MAAI,CAACQ,cAAL,CAAoBR,GAApB,CAAJ,EAFJ,CAAP,CAGD,CACD;4BACA,sBAAaS,IAAb,CAAmB,iBACjB,MAAOH,MAAK,WAAI,KAAKV,IAAT,cAA0B,CACpCc,MAAM,CAAE,OAD4B,CAEpCX,OAAO,CAAE,KAAKD,QAFsB,CAGpCa,IAAI,CAAEC,IAAI,CAACC,SAAL,CAAe,CACnBC,IAAI,CAAEL,IAAI,CAACK,IADQ,CAEnBC,KAAK,CAAEN,IAAI,CAACM,KAFO,CAAf,CAH8B,CAA1B,CAAL,CAOJR,IAPI,CAOC,SAAAP,GAAG,QAAI,OAAI,CAACQ,cAAL,CAAoBR,GAApB,CAAJ,EAPJ,CAAP,CAQD,CAED;AAEA;0BACA,oBAAWS,IAAX,CAAiB,iBACf,MAAOH,MAAK,WAAI,KAAKV,IAAT,qBAAiC,CAC3Cc,MAAM,CAAE,OADmC,CAE3CX,OAAO,CAAE,KAAKD,QAF6B,CAG3Ca,IAAI,CAAEC,IAAI,CAACC,SAAL,CAAe,CACnBG,MAAM,CAAEP,IAAI,CAACO,MADM,CAAf,CAHqC,CAAjC,CAAL,CAMJT,IANI,CAMC,SAAAP,GAAG,QAAI,OAAI,CAACQ,cAAL,CAAoBR,GAApB,CAAJ,EANJ,CAAP,CAOD,CAED;AAGA;+BACA,0BAAkB,iBAChB,MAAOM,MAAK,WAAI,KAAKV,IAAT,WAAuB,CACjCG,OAAO,CAAE,KAAKD,QADmB,CAAvB,CAAL,CAEJS,IAFI,CAEC,SAAAP,GAAG,QAAI,OAAI,CAACQ,cAAL,CAAoBR,GAApB,CAAJ,EAFJ,CAAP,CAGD,CACD;uBACA,iBAAQS,IAAR,CAAc,iBACZ,MAAOH,MAAK,WAAI,KAAKV,IAAT,WAAuB,CACjCc,MAAM,CAAE,MADyB,CAEjCX,OAAO,CAAE,KAAKD,QAFmB,CAGjCa,IAAI,CAAEC,IAAI,CAACC,SAAL,CAAe,CACnBC,IAAI,CAAEL,IAAI,CAACK,IADQ,CAEnBG,IAAI,CAAER,IAAI,CAACQ,IAFQ,CAAf,CAH2B,CAAvB,CAAL,CAOJV,IAPI,CAOC,SAAAP,GAAG,QAAI,OAAI,CAACQ,cAAL,CAAoBR,GAApB,CAAJ,EAPJ,CAAP,CAQD,CAKD;AACA;uBACA,iBAAQkB,MAAR,CAAgB,iBACd,MAAOZ,MAAK,WAAI,KAAKV,IAAT,yBAA6BsB,MAA7B,EAAuC,CACjDR,MAAM,CAAE,KADyC,CAEjDX,OAAO,CAAE,KAAKD,QAFmC,CAAvC,CAAL,CAGJS,IAHI,CAGC,SAAAP,GAAG,QAAI,OAAI,CAACQ,cAAL,CAAoBR,GAApB,CAAJ,EAHJ,CAAP,CAID,CAED;0BACA,oBAAWkB,MAAX,CAAmB,iBACjB,MAAOZ,MAAK,WAAI,KAAKV,IAAT,yBAA6BsB,MAA7B,EAAuC,CACjDR,MAAM,CAAE,QADyC,CAEjDX,OAAO,CAAE,KAAKD,QAFmC,CAAvC,CAAL,CAGJS,IAHI,CAGC,SAAAP,GAAG,QAAI,OAAI,CAACQ,cAAL,CAAoBR,GAApB,CAAJ,EAHJ,CAAP,CAID,CAED;AAEA;0BACA,oBAAWkB,MAAX,CAAmB,iBACjB,MAAOZ,MAAK,WAAI,KAAKV,IAAT,mBAAuBsB,MAAvB,EAAiC,CAC3CR,MAAM,CAAE,QADmC,CAE3CX,OAAO,CAAE,KAAKD,QAF6B,CAAjC,CAAL,CAGJS,IAHI,CAGC,SAAAP,GAAG,QAAI,OAAI,CAACQ,cAAL,CAAoBR,GAApB,CAAJ,EAHJ,CAAP,CAID,C,mBAKH,MAAO,IAAMmB,IAAG,CAAG,GAAIzB,IAAJ,CAAQ,CACzBG,GAAG,CAAE,6CADoB,CAEzBE,OAAO,CAAE,CACP,eAAgB,kBADT,CAEP,gBAAiB,sCAFV,CAFgB,CAAR,CAAZ"},"metadata":{},"sourceType":"module"}